<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <title></title>

    <style>

    head, body
    {
        width:100%;
        height:100%;
        overflow: hidden;
        margin:0;
        padding:0;
        background-color: #EEE;
    }
    #speed
    {
        position: absolute;
        top:0;
        left:0;
    }
    </style>

</head>
<body>

<script src="../base.js"></script>

<div id="speed"></div>

<script>
    
    var position = 0;

    var speed = 1;

    function draw()
    {

        requestAnimationFrame( draw );
        ctx.clearRect( 0,0,w,h );

        //on incrémente un variable de temps
        position += speed;

        // + affiche les informations dans une div
        div.innerText = "position: " + position + "\nspeed: " + speed;

        //on commence à dessiner une forme
        ctx.beginPath();

        //on dessine une ligne verticale placée à position en X
        ctx.moveTo( position, 0 );
        ctx.lineTo( position, h );

        //on utilise la vitesse comme épaisseur de la ligne
        ctx.lineWidth = speed;

        //on dessine
        ctx.stroke();


    }

    function onDown()
    {
        //remet la position à 0
        position = 0;

        //augment la vitesse de 2
        speed += 2;

        //applique un modulo sur la vitesse
        speed %= 10;

    }
    window.addEventListener( "mousedown", onDown, false );
    var div = document.getElementById("speed");
    
    draw();

</script>


</body>
</html>